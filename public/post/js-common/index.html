<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests" />
    <script type="application/javascript" src='https://blog.achirsh.site/js/theme-mode.js'></script>
    <link rel="stylesheet" href='https://blog.achirsh.site/css/frameworks.min.css' />
    <link rel="stylesheet" href='https://blog.achirsh.site/css/github.min.css' />
    <link rel="stylesheet" href='https://blog.achirsh.site/css/github-style.css' />
    <link rel="stylesheet" href='https://blog.achirsh.site/css/light.css' />
    <link rel="stylesheet" href='https://blog.achirsh.site/css/dark.css' />
    <link rel="stylesheet" href='https://blog.achirsh.site/css/syntax.css' />
    <title>js常用函数 - achirsh blog</title>
    
    <link rel="icon" type="image/x-icon" href='/images/github.png'>
    
    <meta name="theme-color" content="#1e2327">

    
    <meta name="description"
  content="js常用函数" />
<meta name="keywords"
  content='blog, google analytics' />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://blog.achirsh.site/post/js-common/" />


<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="js常用函数 - achirsh blog" />
<meta name="twitter:description"
  content="js常用函数" />
<meta name="twitter:site" content="https://blog.achirsh.site/" />
<meta name="twitter:creator" content="" />
<meta name="twitter:image"
  content="https://blog.achirsh.site/">


<meta property="og:type" content="article" />
<meta property="og:title" content="js常用函数 - achirsh blog">
<meta property="og:description"
  content="js常用函数" />
<meta property="og:url" content="https://blog.achirsh.site/post/js-common/" />
<meta property="og:site_name" content="js常用函数" />
<meta property="og:image"
  content="https://blog.achirsh.site/">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

<meta property="article:published_time" content="2021-09-13 00:00:00 &#43;0000 UTC" />










</head>

<body>
  <div style="position: relative">
  <header class="Header js-details-container Details px-3 px-md-4 px-lg-5 flex-wrap flex-md-nowrap open Details--on" style="justify-content: space-between;">
    <div class="Header-item mobile-none" style="margin-top: -4px; margin-bottom: -4px;">
      <a class="Header-link" href="https://blog.achirsh.site/">
        <svg class="octicon" height="32" viewBox="0 0 16 16" version="1.1" width="32">
          <path fill-rule="evenodd"
            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
          </path>
        </svg>
      </a>
    </div>

    <div class="Header-item" style="margin-right: 0;">
      <a href="javascript:void(0)" class="Header-link no-select" onclick="switchTheme()">
        <svg style="fill: var(--color-profile-color-modes-toggle-moon);" class="no-select" viewBox="0 0 16 16"
          version="1.1" width="16" height="16">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M4.52208 7.71754C7.5782 7.71754 10.0557 5.24006 10.0557 2.18394C10.0557 1.93498 10.0392 1.68986 10.0074 1.44961C9.95801 1.07727 10.3495 0.771159 10.6474 0.99992C12.1153 2.12716 13.0615 3.89999 13.0615 5.89383C13.0615 9.29958 10.3006 12.0605 6.89485 12.0605C3.95334 12.0605 1.49286 10.001 0.876728 7.24527C0.794841 6.87902 1.23668 6.65289 1.55321 6.85451C2.41106 7.40095 3.4296 7.71754 4.52208 7.71754Z">
          </path>
        </svg>
      </a>
    </div>
  </header>
</div>
  
<script src="https://unpkg.com/@popperjs/core@2"></script>
<script src="https://unpkg.com/tippy.js@6"></script>
<div>
  <main>
    <div class="gisthead pagehead bg-gray-light pb-0 pt-3 mb-4">
      <div class="px-0">
        <div class="mb-3 d-flex px-3 px-md-3 px-lg-5">
          <div class="flex-auto min-width-0 width-fit mr-3">
            <div class="d-flex">
              <div class="d-none d-md-block">
                <a class="avatar mr-2 flex-shrink-0" href="https://blog.achirsh.site/">
                  <img class=" avatar-user"
                    src="https://blog.achirsh.site/images/avatar.png"
                    width="32" height="32"></a>
              </div>
              <div class="d-flex flex-column">
                <h1 class="break-word f3 text-normal mb-md-0 mb-1">
                  <span class="author">
                    <a href="https://blog.achirsh.site/">achirsh</a></span><span
                    class="path-divider">/</span><strong class="css-truncate-target mr-1" style="max-width: 410px"><a
                      href="https://blog.achirsh.site/post/js-common/">js常用函数</a></strong>
                </h1>
                <div class="note m-0">
                  Created <relative-time datetime="Mon, 13 Sep 2021 00:00:00 &#43;0000"
                    class="no-wrap">
                    Mon, 13 Sep 2021 00:00:00 &#43;0000</relative-time>

                  
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container-lg px-3 new-discussion-timeline">
      <div class="repository-content gist-content">
        <div>
          <div class="js-gist-file-update-container js-task-list-container file-box">
            <div id="file-pytest" class="file my-2">
              <div id="post-header" class="file-header d-flex flex-md-items-center flex-items-start sticky-header">
                <div class="file-info d-flex flex-md-items-center flex-items-start flex-order-1 flex-auto">
                  <div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1 mt-2 mt-md-0">
                    
                    <summary id="toc-toggle" class="btn btn-octicon m-0 mr-2 p-2" aria-haspopup="menu" aria-label="Table of Contents" role="button">
                      <svg aria-hidden="true" viewBox="0 0 16 16" height="16" width="16" class="octicon octicon-list-unordered">
                        <path fill-rule="evenodd" d="M2 4a1 1 0 100-2 1 1 0 000 2zm3.75-1.5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM3 8a1 1 0 11-2 0 1 1 0 012 0zm-1 6a1 1 0 100-2 1 1 0 000 2z"></path>
                      </svg>
                    </summary>
                          861 Words
                    

                  </div>
                  <div class="file-actions flex-order-2 pt-0">
                    
                  </div>
                </div>
              </div>


              <div class="Box-body px-5 pb-5">
                <article class="markdown-body entry-content container-lg"><h1 id="js常用函数">js常用函数</h1>
<h2 id="1判断手机号是否正确">1、判断手机号是否正确</h2>
<pre><code>function isEffectPhone(phone) {
    const reg = /^[1][3,4,5,6,7,8][0-9]{9}$/;
    if (!reg.test(phone)) {
        return false;
    } else {
        return ture;
    }
}
</code></pre>
<h2 id="2判断传入时间是否大于当前实际时间">2、判断传入时间是否大于当前实际时间</h2>
<pre><code>function contrastTime(time) {
    return time.getTime() - new Date().getTime();
}
</code></pre>
<h2 id="3获取屏幕宽度">3、获取屏幕宽度</h2>
<pre><code>(document.documentElement &amp;&amp; document.documentElement.clientWidth) ? document.documentElement.clientWidth : document.body.clientWidth
</code></pre>
<h2 id="4截取字符串后几位">4、截取字符串后几位</h2>
<pre><code>function subStringEnd(string, n) {
    return string.substring(string.length - n)
}
</code></pre>
<h2 id="5根据数据获取所有值的和">5、根据数据获取所有值的和</h2>
<pre><code>function getSum(array, type) {
    let result = 0;
    for (let i = 0; i &lt; array.length; i++) {
        if (type) {
            result += (array[i][type] * 1000)
        } else {
            result += array[i]
        }
    }
    return result / 1000
}
</code></pre>
<h2 id="6隐藏手机号中间四位">6、隐藏手机号中间四位</h2>
<pre><code>function hiddenTel(tel) {
    return tel.substring(0, 3) + '****' + tel.substring(tel.length - 4)
}
</code></pre>
<h2 id="7判断手机是iosandroid">7、判断手机是ios/android</h2>
<pre><code>function checkPlatform() {
    if (/android/i.test(navigator.userAgent)) {
        // console.log(&quot;This is Android'browser.&quot;);//这是Android平台下浏览器
        return '0';
    }
    if (/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)) {
        // console.log(&quot;This is iOS'browser.&quot;);//这是iOS平台下浏览器
        return '1';
    }
    if (/Linux/i.test(navigator.userAgent)) {
        // console.log(&quot;This is Linux'browser.&quot;);//这是Linux平台下浏览器
        return '2';
    }
    if (/Linux/i.test(navigator.platform)) {
        // console.log(&quot;This is Linux operating system.&quot;);//这是Linux操作系统平台
        return '2';
    }
    if (/MicroMessenger/i.test(navigator.userAgent)) {
        // console.log(&quot;This is MicroMessenger'browser.&quot;);//这是微信平台下浏览器
    }
}
</code></pre>
<h2 id="8生成随机的n位数">8、生成随机的n位数</h2>
<pre><code>function generateFiveRandomNum(n) {
    let code = ''
    for (let i = 0; i &lt; n + 1; i++) {
        code += Math.floor(Math.random() * 10)
    }
    return code
}
</code></pre>
<h2 id="9blob转base64">9、blob转base64</h2>
<pre><code>function blobToDataURL(blob, callback) {
    let reader = new FileReader()
    reader.onload = function (e) {
        callback(e.target.result)
    }
    reader.readAsDataURL(blob)
}
</code></pre>
<h2 id="10去掉一个字符串中的空格">10、去掉一个字符串中的空格</h2>
<pre><code>function removeBlank(string) {
    let reg = /\s+/g;
    if (typeof string === 'string') {
        return string.replace(reg, '')
    } else {
        return string
    }
}

string.split(' ').join('')
</code></pre>
<h2 id="11去除字符串中最后一个指定的字符">11、去除字符串中最后一个指定的字符</h2>
<pre><code>function delString(str, delChar) {
    if (!str || typeof str !== 'string' || !deChar || typeof delChar !== 'string') return;
    let arr = str.split('')
    let idx = arr.lastIndexof(delChar)
    arr.splice(idx, 1)
    return arr.join('')
}
</code></pre>
<h2 id="12将下划线命名转成大驼峰命名">12、将下划线命名转成大驼峰命名</h2>
<pre><code>function strToUpperCase(str) {
    let string = '';
    let arr = str.split('_').filter(x =&gt; { return x &amp;&amp; x.trim() });
    arr.map((v,i) =&gt; {string = (i === 0) ? v : string + v.substr(0,1).toUpperCase() + v.substr(1)})
    return string;
}
</code></pre>
<h2 id="13把字符串大小写切换">13、把字符串大小写切换</h2>
<pre><code>function caseConvert(str) {
    return str.replace(/([a-z]*)([A-Z]*)/g, (m, s1, s2) =&gt; {
        return `${s1.toUpperCase()}${s2.toLowerCase()}`
    })
}
</code></pre>
<h2 id="15js对字符串进行加密和解密">15、js对字符串进行加密和解密</h2>
<pre><code>function compileStr(code) {
     let c = String.fromCharCode(code.charCodeAt(0) + code.lenght);
    for(let i = 1; i &lt; code.length; i++) {
        c += String.fromCharCode(code.chartCodeAt(i) + code.chartCodeAt(i-1));
    }
    return escape(c);
}
</code></pre>
<h2 id="16用递归算法实现数组长度为5且元素的随机数在2-32间不重复的值">16、用递归算法实现，数组长度为5且元素的随机数在2-32间不重复的值</h2>
<pre><code>function insertArr(arr, i=0, min=2, max=32) {
    const num = Math.max(min, Math.ceil(Math.random() * max))
    if(!arr[arr.length - 1]) {
        if(!arr.includes(num)) {
            arr[i++] = num;
        }
        return insertArr(arr, i);
    }
    return arr;
}
const arr = new Array(5);
const result = insertArr(arr);
</code></pre>
<h2 id="17统一某一字符或字符串在另一个字符串中出现的次数">17、统一某一字符或字符串在另一个字符串中出现的次数</h2>
<pre><code>function strCount(str, target) {
    let count = 0;
    if(!str || !target) return count;
    while (str.match(target)) {
        str = str.replace(target, '')
        count++
    }
    return count++
}

function strCount(str, target) {
    return str.split(target).length - 1
}
</code></pre>
<h2 id="18判断数据类型的方法">18、判断数据类型的方法</h2>
<pre><code>function type(obj) {
    return Object.prototype.toString.call(obj).replace(/\[object\s|\]/g,'');
}

console.log(type([]))  // 'Array'
console.log(type(1)) // 'Number'</code></pre>
</article>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>
<script>
 
 
 
 window.onload = function () {
   const header = document.getElementById('post-header');
   const headerHeight = header.offsetHeight;
   
   document.documentElement.style.scrollPaddingTop = headerHeight + 10 + "px";
 }

 const tocToggleButton = document.getElementById("toc-toggle");

 const tippyInstance = tippy('#toc-toggle', {
  trigger: 'click',
  content: '<div id="table-of-contents">\u003cnav id=\u0022TableOfContents\u0022\u003e\n  \u003cul\u003e\n    \u003cli\u003e\u003ca href=\u0022#1判断手机号是否正确\u0022\u003e1、判断手机号是否正确\u003c\/a\u003e\u003c\/li\u003e\n    \u003cli\u003e\u003ca href=\u0022#2判断传入时间是否大于当前实际时间\u0022\u003e2、判断传入时间是否大于当前实际时间\u003c\/a\u003e\u003c\/li\u003e\n    \u003cli\u003e\u003ca href=\u0022#3获取屏幕宽度\u0022\u003e3、获取屏幕宽度\u003c\/a\u003e\u003c\/li\u003e\n    \u003cli\u003e\u003ca href=\u0022#4截取字符串后几位\u0022\u003e4、截取字符串后几位\u003c\/a\u003e\u003c\/li\u003e\n    \u003cli\u003e\u003ca href=\u0022#5根据数据获取所有值的和\u0022\u003e5、根据数据获取所有值的和\u003c\/a\u003e\u003c\/li\u003e\n    \u003cli\u003e\u003ca href=\u0022#6隐藏手机号中间四位\u0022\u003e6、隐藏手机号中间四位\u003c\/a\u003e\u003c\/li\u003e\n    \u003cli\u003e\u003ca href=\u0022#7判断手机是iosandroid\u0022\u003e7、判断手机是ios\/android\u003c\/a\u003e\u003c\/li\u003e\n    \u003cli\u003e\u003ca href=\u0022#8生成随机的n位数\u0022\u003e8、生成随机的n位数\u003c\/a\u003e\u003c\/li\u003e\n    \u003cli\u003e\u003ca href=\u0022#9blob转base64\u0022\u003e9、blob转base64\u003c\/a\u003e\u003c\/li\u003e\n    \u003cli\u003e\u003ca href=\u0022#10去掉一个字符串中的空格\u0022\u003e10、去掉一个字符串中的空格\u003c\/a\u003e\u003c\/li\u003e\n    \u003cli\u003e\u003ca href=\u0022#11去除字符串中最后一个指定的字符\u0022\u003e11、去除字符串中最后一个指定的字符\u003c\/a\u003e\u003c\/li\u003e\n    \u003cli\u003e\u003ca href=\u0022#12将下划线命名转成大驼峰命名\u0022\u003e12、将下划线命名转成大驼峰命名\u003c\/a\u003e\u003c\/li\u003e\n    \u003cli\u003e\u003ca href=\u0022#13把字符串大小写切换\u0022\u003e13、把字符串大小写切换\u003c\/a\u003e\u003c\/li\u003e\n    \u003cli\u003e\u003ca href=\u0022#15js对字符串进行加密和解密\u0022\u003e15、js对字符串进行加密和解密\u003c\/a\u003e\u003c\/li\u003e\n    \u003cli\u003e\u003ca href=\u0022#16用递归算法实现数组长度为5且元素的随机数在2-32间不重复的值\u0022\u003e16、用递归算法实现，数组长度为5且元素的随机数在2-32间不重复的值\u003c\/a\u003e\u003c\/li\u003e\n    \u003cli\u003e\u003ca href=\u0022#17统一某一字符或字符串在另一个字符串中出现的次数\u0022\u003e17、统一某一字符或字符串在另一个字符串中出现的次数\u003c\/a\u003e\u003c\/li\u003e\n    \u003cli\u003e\u003ca href=\u0022#18判断数据类型的方法\u0022\u003e18、判断数据类型的方法\u003c\/a\u003e\u003c\/li\u003e\n  \u003c\/ul\u003e\n\u003c\/nav\u003e</div>',
  allowHTML: true,
  placement: 'bottom-start',
  interactive: true,
  arrow: false,
  maxWidth: "none",
  onHide: function () { tocToggleButton.classList.remove("hover"); },
  onShow: function () { tocToggleButton.classList.add("hover"); },
  onShown: function () {
    selectTableOfContentsOption();

    if (window.hasSetupTableOfContentsListeners) {
      return;
    }

    const tableOfContents = document.getElementById("table-of-contents");
    tableOfContents.addEventListener('click', function () {
      
      tippyInstance[0].hide();
    });

    window.hasSetupTableOfContentsListeners = true;
  }
 });

 function selectTableOfContentsOption () {
   const optionSelectedClass = 'table-of-contents-option-selected';

   const tableOfContentsOptions = document.querySelectorAll("#table-of-contents > nav > ul li");

   for (const option of tableOfContentsOptions) {
     

     const [child] = option.children;
     if (child.tagName.toLowerCase() !== 'a') {
       continue;
     }

     if (window.location.href === child.href) {
       child.classList.add(optionSelectedClass);
     } else {
       child.classList.remove(optionSelectedClass);
     }
   }
 }

 window.onhashchange = selectTableOfContentsOption;
</script>


</body>

<script type="application/javascript" src="https://blog.achirsh.site/js/github-style.js"></script>



</html>